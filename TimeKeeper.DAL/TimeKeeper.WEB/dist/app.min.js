!function(){var e=angular.module("timeKeeper",["ngRoute","ui.bootstrap"]);e.constant("timeConfig",{apiUrl:"http://localhost:50327/api/"}),e.config(["$routeProvider",function(e){e.when("/teams",{templateUrl:"views/teams.html",controller:"teamsController"}).when("/employees",{templateUrl:"views/employees.html",controller:"employeesController"}).when("/customers",{templateUrl:"views/customers.html",controller:"customersController"}).when("/projects",{templateUrl:"views/projects.html",controller:"projectsController"}).when("/timetracking",{templateUrl:"views/timeTracking.html",controller:"daysController"}).otherwise({redirectTo:"/teams"})}])}(),function(){var e=angular.module("timeKeeper");e.controller("customersController",["$scope","dataService",function(e,t){e.message="Wait...",t.list("customers",function(t){e.message="",e.customers=t})}]),e.controller("custController",["$scope","$uibModal","dataService",function(e,t,o){e.edit=function(e){t.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"views/custModal.html",controller:"ModalCtrl",controllerAs:"$cust",resolve:{customer:function(){return e}}})},e.confirm=function(e){t.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"views/custConfirmModal.html",controller:"ModalCtrl",controllerAs:"$cust",resolve:{customer:function(){return e}}})}}]),e.controller("ModalCtrl",function(e,t,o,n){console.log(o),t.customer=o,t.yes=function(e){n.delete("customers",e.id,function(){window.alert("Deleted"),window.location.reload()})},t.cancel=function(){e.dismiss(),window.location.reload()},t.save=function(e){console.log(e),void 0===e.id?n.insert("customers",e,function(e){window.location.reload(),window.alert("Data inserted!")}):n.update("customers",e.id,e,function(e){window.location.reload(),window.alert("Data updated!")})}})}(),function(){angular.module("timeKeeper").controller("employeesController",["$scope","dataService","timeConfig","$location",function(e,t,o,n){e.currentPage=0,o.apiUrl,t.list("roles",function(t){e.roles=t}),e.message="Wait...",t.list("employees",function(t,o){e.page=angular.fromJson(o("Pagination")),e.message="",e.totalItems=e.page.TotalItems,e.people=t}),e.edit=function(t){e.person=t},e.unSet=function(){e.person=null},e.setPerson=function(t){e.person=t},e.pageChanged=function(){e.currentPage,t.list("employees/page/"+(e.currentPage-1),function(t,o){e.people=t,console.log(e.page)})},e.save=function(e){console.log(e),void 0===e.id?t.insert("employees",e,function(e){window.alert("Data inserted!"),window.location.reload()}):t.update("employees",e.id,e,function(e){window.alert("Data updated!")})},e.delete=function(e){t.delete("employees",e.id,function(e){window.alert("Data deleted!"),window.location.reload()})}}])}(),function(){angular.module("timeKeeper").controller("projectsController",["$scope","dataService","timeConfig","$location",function(e,t,o,n){e.data=null,o.apiUrl,e.message="Wait...",t.list("projects",function(t,o){e.page=angular.fromJson(o("Pagination")),e.message="",e.projects=t}),e.edit=function(t){e.project=t},e.unSet=function(){e.project=null},e.setProject=function(t){e.project=t},e.save=function(e){console.log(e),void 0===e.id?t.insert("projects",e,function(e){window.alert("Data inserted!"),window.location.reload()}):t.update("projects",e.id,e,function(e){window.alert("Data updated!"),window.location.reload()})},e.delete=function(e){t.delete("projects",e.id,function(e){window.alert("Data deleted!"),window.location.reload()})}}])}(),function(){var e=angular.module("timeKeeper");e.controller("teamsController",["$scope","dataService",function(e,t){e.message="Wait...",t.list("teams",function(t){e.message="",e.teams=t,console.log("iz baze"+e.teams)})}]),e.controller("tmController",["$scope","$uibModal","dataService",function(e,t,o){e.edit=function(e){t.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"views/teamModal.html",controller:"ModalTeam",controllerAs:"$team",resolve:{team:function(){return e}}})},e.confirm=function(e){t.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"views/teamConfirmModal.html",controller:"ModalTeam",controllerAs:"$team",resolve:{team:function(){return e}}})}}]),e.controller("ModalTeam",function(e,t,o,n){console.log(o),t.team=o,t.yes=function(e){n.delete("teams",e.id,function(){window.alert("Deleted"),window.location.reload()})},t.cancel=function(){e.dismiss(),window.location.reload()},t.save=function(e){console.log(e),void 0===e.id?n.insert("teams",e,function(e){window.location.reload(),window.alert("Data inserted!")}):n.update("teams",e.id,e,function(e){window.location.reload(),window.alert("Data updated!")})}})}(),function(){angular.module("timeKeeper").directive("customer",[function(){return{restrict:"E",scope:{data:"="},controller:"custController as $cust",templateUrl:"views/custWidget.html"}}])}(),function(){angular.module("timeKeeper").directive("team",[function(){return{restrict:"E",scope:{data:"="},controller:"tmController as $team",templateUrl:"views/teamWidget.html"}}])}(),function(){angular.module("timeKeeper").factory("dataService",["$http","timeConfig",function(e,t){var o=t.apiUrl;return{list:function(t,n){e.get(o+t).then(function(e){return n(e.data,e.headers)},function(e){window.alert(e.data.message)})},read:function(t,n,a){e.get(o+t+"/"+n).then(function(e){return a(e.data)},function(e){window.alert(e.data.message)})},insert:function(t,n,a){e({method:"post",url:o+t,data:n}).then(function(e){return a(e.data)},function(e){window.alert(e.data)})},update:function(t,n,a,l){e({method:"put",url:o+t+"/"+n,data:a}).then(function(e){return l(e.data)},function(e){window.alert(e.data)})},delete:function(t,n,a){e({method:"delete",url:o+t+"/"+n}).then(function(e){return a(e.data)},function(e){window.alert(e.data)})}}}])}();